{% extends 'layout.html' %}


{% block css %}
<style>
    #topSetBox {
        height: 4%;
        background-color:#404a59;
    }

    #displayBox {
        height: 96%;
        width: 100%x;
    }
</style>
{% endblock %}


{% block menus %}
<div class="div1">
    <a href="#"><i class="fa fa-users" aria-hidden="true"></i> 聚变人才</a>
</div>
<div class="div2">
    <ul>
        <li>行业专家</li>
        <li>其他专家</li>
        <li>聚变材料</li>
        <li>理论模拟</li>
    </ul>
</div>
<div class="div1">
    <a href="#"><i class="fa fa-users" aria-hidden="true"></i> 地热人才</a>
</div>
<div class="div2">
    <ul>
        <li>行业专家</li>
        <li>其他专家</li>
    </ul>
</div>
{% endblock %}


{% block content %}
    <div id="topSetBox">
        <button id="btnEditStep" type="button" class="btn btn-primary btn-xs">数据更新</button>
        <button id="btnEditStep" type="button" class="btn btn-primary btn-xs"><i class="fa fa-reply" aria-hidden="true"></i> 返回全球预览</button>
    </div>

    <div id="displayBox">

    </div>
{% endblock %}

{% block js %}
<script src="/static/plugins/echarts-4.6.0/echarts.min.js"></script>
<script src="/static/plugins/map/china.js"></script>
<script src="/static/plugins/map/world.js"></script>
<script src="/static/js/FormCharts.js"></script>
<script>
    var mapType = 'world';
    var currentIndex = 0;
    var myChart = echarts.init(document.getElementById("displayBox"));

    var data = [{
        "type": '整体数据',
        "data": [{
            "name": "China",
            "value": [4, "China"]
        }, {
            "name": "Japan",
            "value": [2, "日本"]
        }, {
            "name": "Costa Rica",
            "value": [2, "哥斯达黎加"]
        }, {
            "name": "Korea",
            "value": [1, "Korea"]
        }, {
            "name": "United States",
            "value": [1, "United States"]
        }, {
            "name": "河北",
            "value": [1, "河北"]
        }, {
            "name": "Afghanistan",
            "value": [0, "Afghanistan"]
        } ]
    },
    {
        "type": '行业专家',
        "data": [{
            "name": "China",
            "value": [52, "China"]
        }, {
            "name": "Japan",
            "value": [24, "Japan"]
        }, {
            "name": "Thailand",
            "value": [21, "Thailand"]
        }, {
            "name": "Korea",
            "value": [1, "Korea"]
        }, {
            "name": "United States",
            "value": [1, "United States"]
        } ]
    },
    {
        "type": '理论模拟',
        "data": [{
            "name": "China",
            "value": [333, "China"]
        }, {
            "name": "Japan",
            "value": [24, "Japan"]
        }, {
            "name": "Thailand",
            "value": [21, "Thailand"]
        }, {
            "name": "Korea",
            "value": [1, "Korea"]
        }, {
            "name": "United States",
            "value": [222, "United States"]
        } ]
    }]

	var option = formMapOption(data, mapType, currentIndex);
    myChartSetOption(option, myChart);
	myChart.on('click', function (params) {
        if (typeof(params.data)=="object"){
            console.log(params.data.name);
            if(params.data.name=='China'){
                mapType = 'china';
                option = formMapOption(data, mapType, currentIndex);
                myChartSetOption(option, myChart);
            }
        }
    });

</script>
{% endblock %}